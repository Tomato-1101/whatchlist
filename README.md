# 📈 株式ランキング → TradingViewウォッチリスト自動生成ツール

日本株の様々なランキング情報を自動で取得し、TradingViewにそのままインポートできるウォッチリストを作成するツールです。

---

## ✨ できること

このツールを使うと、以下のランキングをワンクリックで取得できます：

| 番号 | ランキング | 説明 |
|:---:|-----------|------|
| 1 | 📈 **値上がり率** | 本日最も値上がりした銘柄 |
| 2 | 📉 **値下がり率** | 本日最も値下がりした銘柄 |
| 3 | 📊 **出来高上位** | 取引量が多い銘柄 |
| 4 | 💰 **売買代金上位** | 売買金額が多い銘柄 |
| 5 | 🔥 **活況銘柄** | 取引が活発な注目銘柄 |
| 6 | 🌅 **寄付からの値上がり率** | 朝の寄付から上昇した銘柄 |
| 7 | 🌆 **寄付からの値下がり率** | 朝の寄付から下落した銘柄 |
| 8 | ⚡ **日中値動き変動率** | 日中の値動きが激しい銘柄 |
| 9 | 🎯 **ティック回数** | 約定回数が多い銘柄 |

---

## 🚀 はじめかた

### 初回セットアップ（最初の1回だけ）

#### 1. 仮想環境を作成する

**Windowsの場合：**
```
python -m venv venv
.\venv\Scripts\activate
```

**Mac/Linuxの場合：**
```
python -m venv venv
source venv/bin/activate
```

#### 2. 必要なものをインストール

```
pip install -r requirements.txt
playwright install chromium
```

これで準備完了です！🎉

---

## 📖 使い方

### 🖱️ 簡単な使い方（おすすめ）

**Windowsの場合：** `run.bat` をダブルクリック

**Mac/Linuxの場合：** ターミナルで `./run.sh` を実行

すると、こんなメニューが表示されます：

```
============================================================
  株式ランキング取得 → TradingViewウォッチリスト生成
============================================================

【ランキング種類】
  1. 値上がり率 (up)
  2. 値下がり率 (down)
  3. 出来高上位 (volume)
  4. 売買代金上位 (trading_value)
  5. 活況銘柄 (active)
  6. 寄付からの値上がり率 (up_from_open)
  7. 寄付からの値下がり率 (down_from_open)
  8. 日中値動き変動率 (volatility)
  9. ティック回数 (tick)
  0. すべて取得
  q. 終了

取得するランキングを選択してください:
```

### 🎮 操作方法

| 入力 | 動作 |
|:---:|------|
| `0` または `Enter` | すべてのランキングを一括取得 |
| `1` | 値上がり率だけ取得 |
| `12` | 値上がり率と値下がり率を取得 |
| `159` | 値上がり率、活況銘柄、ティック回数を取得 |
| `q` | 終了 |

💡 **ポイント**: 数字はコンマなしで連続入力できます！`123` と入力すれば、1・2・3番のランキングがまとめて取得されます。

---

## 📁 取得したファイルの使い方

### ファイルの場所

取得したウォッチリストは **`output`フォルダ** に保存されます。

ファイル名の例：`watchlist_up_20251224.txt`

### ファイルの中身

```
TSE:7203,TSE:6758,TSE:9984,TSE:8306,TSE:4063,...
```

### TradingViewへのインポート方法

1. 📂 `output`フォルダ内のテキストファイルを開く
2. 📋 中身をすべてコピー（`Ctrl+A` → `Ctrl+C`）
3. 🌐 TradingViewを開く
4. ⭐ ウォッチリストの「＋」ボタンをクリック
5. 📝 「シンボルを追加」にペースト（`Ctrl+V`）
6. ✅ 完了！銘柄が一括で追加されます

---

## 💡 使い方のヒント

### 毎日のルーティンにおすすめ

1. 市場が開いている時間帯（9:00〜15:00）に `run.bat` を実行
2. `0` を押してすべてのランキングを取得
3. 気になるランキングのファイルをTradingViewにインポート
4. チャートを確認して、気になる銘柄をチェック！

### こんな使い方もできます

- **デイトレード派**: 「活況銘柄」「ティック回数」で動きのある銘柄を探す
- **スイング派**: 「値上がり率」「出来高上位」でトレンドを確認
- **逆張り派**: 「値下がり率」で反発狙いの銘柄を探す

---

## ❓ よくある質問

### Q. エラーが出て動かない

**A.** 以下を試してください：
1. 仮想環境が有効になっているか確認（コマンドラインに `(venv)` と表示されているか）
2. `pip install -r requirements.txt` を再実行
3. `playwright install chromium` を再実行

### Q. 「ティック回数」だけ取得に時間がかかる

**A.** 正常です。このランキングは特殊な方法で取得しているため、約3秒ほど時間がかかります。ブラウザウィンドウが一瞬開くこともありますが、問題ありません。

### Q. ファイルが空っぽ、または銘柄が少ない

**A.** 市場が閉まっている時間帯（夜間・休日）はランキングデータが更新されないため、取得できる銘柄が少なくなることがあります。

---

## ⚠️ ご注意

- このツールは個人利用・学習目的で作成されています
- 過度な連続実行は避けてください（サイトに負荷がかかります）
- 投資判断は自己責任でお願いします

---

**Happy Trading! 📈🚀**
